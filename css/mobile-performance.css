/* Mobile-Specific Performance Optimizations for Portfolio Grid */

/* Force disable GPU layers on mobile for portfolio items */
@media (max-width: 768px) {
    .portfolio-grid {
        /* Use block layout instead of grid for better mobile performance */
        display: block !important;
        padding: 0 1rem;
        contain: strict;
    }
    
    .portfolio-item {
        /* Disable all expensive CSS properties */
        transform: none !important;
        transition: none !important;
        will-change: auto !important;
        backdrop-filter: none !important;
        filter: none !important;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
        background: linear-gradient(135deg, #a8a882 0%, #9a9a7d 100%) !important;
        border: 1px solid #8b8b6e !important;
        margin-bottom: 1.5rem;
        contain: layout style paint;
    }
    
    .portfolio-item:hover {
        transform: none !important;
        transition: none !important;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
    }
    
    /* Simplify portfolio images */
    .portfolio-image {
        height: 200px !important;
        background: #f5f3e7 !important;
        contain: strict;
    }
    
    .portfolio-image::before,
    .portfolio-image::after {
        display: none !important;
    }
    
    /* Optimize carousel for mobile */
    .portfolio-carousel {
        contain: strict;
        overflow: hidden;
    }
    
    .carousel-slide {
        transition: opacity 0.2s ease !important;
        will-change: auto !important;
        contain: layout style paint;
    }
    
    .carousel-slide img {
        transform: none !important;
        transition: none !important;
        will-change: auto !important;
        contain: strict;
    }
    
    .carousel-slide .image-placeholder {
        background: #a8a882 !important;
        transition: none !important;
        contain: layout style paint;
    }
    
    /* Simplify hover effects */
    .portfolio-item:hover .carousel-slide img,
    .portfolio-item:hover .portfolio-image .image-placeholder {
        transform: none !important;
        transition: none !important;
    }
    
    /* Optimize portfolio content */
    .portfolio-content {
        padding: 1.2rem !important;
        contain: layout style;
    }
    
    .portfolio-title {
        font-size: 1.2rem !important;
        margin-bottom: 0.5rem;
        contain: layout style;
    }
    
    .portfolio-description {
        font-size: 0.85rem !important;
        line-height: 1.4;
        margin-bottom: 1rem;
        contain: layout style;
    }
    
    .portfolio-link {
        font-size: 0.85rem !important;
        transition: none !important;
        contain: layout style;
    }
    
    .portfolio-link:hover {
        transform: none !important;
        transition: none !important;
    }
    
    /* Disable complex backgrounds */
    .portfolio::before,
    .portfolio::after {
        display: none !important;
    }
    
    /* Optimize filters for mobile */
    .portfolio-filters {
        gap: 8px;
        margin-bottom: 1.5rem;
        contain: layout style;
    }
    
    .filter-btn {
        padding: 6px 12px;
        font-size: 0.8rem;
        transition: none !important;
        contain: layout style;
    }
    
    .filter-btn:hover,
    .filter-btn:active,
    .filter-btn.active {
        transform: none !important;
        transition: none !important;
    }
}

/* Ultra-mobile optimizations (< 480px) */
@media (max-width: 480px) {
    .portfolio-grid {
        padding: 0 0.5rem;
    }
    
    .portfolio-item {
        margin-bottom: 1rem;
        border-radius: 6px !important;
    }
    
    .portfolio-image {
        height: 180px !important;
    }
    
    .portfolio-content {
        padding: 1rem !important;
    }
    
    .portfolio-title {
        font-size: 1.1rem !important;
        margin-bottom: 0.3rem;
    }
    
    .portfolio-description {
        font-size: 0.8rem !important;
        line-height: 1.3;
        margin-bottom: 0.8rem;
    }
    
    .portfolio-filters {
        gap: 6px;
        margin-bottom: 1rem;
    }
    
    .filter-btn {
        padding: 5px 10px;
        font-size: 0.75rem;
    }
}

/* Performance monitoring - disable on mobile */
@media (max-width: 768px) {
    /* Disable performance-heavy pseudo-elements */
    *::before,
    *::after {
        content: none !important;
    }
    
    /* Re-enable necessary pseudo-elements */
    .header::before,
    .header::after,
    .notification::before,
    .notification::after {
        content: '' !important;
    }
    
    /* Force layout containment on mobile */
    .portfolio,
    .portfolio-grid,
    .portfolio-item,
    .portfolio-image,
    .portfolio-content {
        contain: layout style !important;
    }
}

/* Emergency performance mode for very slow devices */
@media (max-width: 320px) {
    .portfolio-item {
        background: #a8a882 !important;
        border: 1px solid #9a9a7d !important;
        box-shadow: none !important;
    }
    
    .portfolio-image {
        height: 160px !important;
    }
    
    .carousel-slide {
        transition: none !important;
    }
    
    .portfolio-content {
        padding: 0.8rem !important;
    }
}
