<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <meta name="theme-color" content="#d4d2a7">
    <title>KRISHNA PHOTOGRAPHY</title>
    <meta name="description" content="Professional cinematography services for weddings, eve            // Load carousel first (most important)
            loadScript('js/carousel-modern.js')
                .then(() => loadScript('js/contact.js'))
                .then(() => loadScript('js/main-no-gsap.js')) corporate, concerts, products, food, and advertisements for social media and television.">
    
    <!-- Favicon -->
        
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3e%3crect width='32' height='32' fill='%232c3e50'/%3e%3ctext x='16' y='20' font-family='Arial, sans-serif' font-size='18' font-weight='bold' text-anchor='middle' fill='%23ecf0f1'%3eV%3c/text%3e%3c/svg%3e">
    
    <!-- DNS Prefetch and Preconnect for External Resources -->
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    
    <!-- Critical Resource Preloading -->
    <link rel="preload" href="./images/weddings/KPS-34.webp" as="image">
    <link rel="preload" href="./images/weddings/KPS-29.webp" as="image">
    <link rel="preload" href="./images/weddings/KPS-33.webp" as="image">
    <link rel="preload" href="./images/weddings/KPS-42.webp" as="image">
    <link rel="preload" href="./images/weddings/KPS-67.webp" as="image">
    <link rel="preload" href="./images/weddings/KPS-45.webp" as="image">
    <link rel="preload" href="./images/events/P1022542.jpg" as="image">
    <link rel="preload" href="./images/events/P1022496.jpg" as="image">
    <link rel="preload" href="./images/events/P1160786-1.jpg" as="image">
    <link rel="preload" href="./images/events/P1160829.jpg" as="image">
    <link rel="preload" href="./images/events/P1160770.jpg" as="image">
    <link rel="preload" href="./images/events/P1160793.jpg" as="image">
    <link rel="preload" href="./images/concerts/P1110229.jpg" as="image">
    <link rel="preload" href="./images/concerts/P1110247.jpg" as="image">
    <link rel="preload" href="./images/concerts/P1120087.jpg" as="image">
    <link rel="preload" href="./images/concerts/1744036484455.jpg" as="image">
    <link rel="preload" href="./images/concerts/1744036484475.jpg" as="image">
    <link rel="preload" href="./images/concerts/P1120654.jpg" as="image">
    <link rel="preload" href="./images/food/Paneer Final 1.jpg" as="image">
    <link rel="preload" href="./images/food/SAVE_20240629_110258.jpg" as="image">
    <link rel="preload" href="./images/food/SAVE_20240629_110335.jpg" as="image">
    <link rel="preload" href="./images/food/SAVE_20240629_110449.jpg" as="image">
    <link rel="preload" href="./images/food/SAVE_20240630_170253.jpg" as="image">
    <link rel="preload" href="./images/food/SAVE_20240703_210458.jpg" as="image">
    <link rel="preload" href="css/critical-optimized.css" as="style" fetchpriority="high">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" as="style">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
    <!-- Critical CSS - Inline for performance -->
    <link rel="stylesheet" href="css/critical-optimized.css">
    
    <!-- Non-critical CSS with media queries for better loading -->
    <link rel="stylesheet" href="css/style.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="css/no-cursor.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="css/performance.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="css/mobile-performance.css" media="(max-width: 768px)">
    <link rel="stylesheet" href="css/image-optimization.css" media="print" onload="this.media='all'">
    
    <!-- Bootstrap Carousel Customization - Load AFTER other styles -->
    <link rel="stylesheet" href="css/bootstrap-carousel-custom.css">
    
    <!-- Web Fonts with optimized loading -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    
    <!-- Critical JavaScript -->
    <script>
        // Inline critical performance script
        (function() {
            // Early performance optimizations
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', function() {
                    navigator.serviceWorker.register('/sw-optimized.js').catch(function() {});
                });
            }
            
            // Critical font loading
            if ('fonts' in document) {
                document.fonts.load('1em Inter').then(function() {
                    document.documentElement.classList.add('fonts-loaded');
                });
            }
            
            // Viewport height fix for mobile
            function setVH() {
                document.documentElement.style.setProperty('--vh', (window.innerHeight * 0.01) + 'px');
            }
            setVH();
            window.addEventListener('resize', setVH);
        })();
    </script>

            <!-- Performance: ensure images default to lazy loading if not specified -->
            <script>
                (function(){
                    if ('loading' in HTMLImageElement.prototype) {
                        document.addEventListener('DOMContentLoaded', function(){
                            document.querySelectorAll('img:not([loading])').forEach(img => img.setAttribute('loading','lazy'));
                        });
                    } else {
                        // Fallback: load a lightweight lazyload lib only when needed (skipped to keep bundle small)
                    }
                    // Preconnect to local images (helps LCP for self-hosted images)
                    var link = document.createElement('link');
                    link.rel = 'preconnect';
                    link.href = window.location.origin;
                    document.head.appendChild(link);
                })();
            </script>
    
</head>
<body>
    <div class="page-wrapper">
        <!-- Header Navigation -->
        <header class="header">
            <nav class="nav">
                <div class="nav-brand">
                    <h1 class="brand-title">KRISHNA PHOTOGRAPHY</h1>
                    <p class="brand-subtitle">VISUAL STORYTELLING • CINEMATIC EXCELLENCE</p>
                </div>
                <button class="menu-toggle" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <ul class="nav-menu">
                    <li><a href="#home" class="nav-link">Home</a></li>
                    <li><a href="#portfolio" class="nav-link">Portfolio</a></li>
                    <li><a href="#about" class="nav-link">About</a></li>
                    <li><a href="#contact" class="nav-link">Contact</a></li>
                </ul>
            </nav>
        </header>

        <!-- Hero Section -->
        <section id="home" class="hero">
            <div class="hero-container">
                <div class="hero-content">
                    <h2 class="hero-title" id="heroTitle">CINEMATIC STORYTELLING</h2>
                    <p class="hero-subtitle">"I’m Vedang, We specialize in capturing life's most precious moments and turning them into timeless, cinematic stories. Raw, emotional, and authentically for you."</p>
                    <div class="hero-cta">
                        <a href="#portfolio" class="btn btn-primary">Catalogue</a>
                        <a href="#contact" class="btn btn-secondary">Get In Touch</a>
                    </div>
                </div>
                <div class="hero-image">
                    <img src="./images/weddings/KPS-12.jpg" alt="Professional cinematography showcase - beautiful wedding couple" loading="eager" decoding="async">
                </div>
            </div>
        </section>

        <!-- Portfolio Grid -->
        <section id="portfolio" class="portfolio">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">PORTFOLIO</h2>
                    <p class="section-subtitle">Explore my cinematic work across different domains</p>
                </div>
                
                <!-- Filter buttons will be dynamically inserted here by JavaScript -->
                
                <div class="portfolio-grid">
                    <div class="portfolio-item performance-critical" data-category="weddings">
                        <div id="weddingsCarousel" class="carousel slide" data-bs-pause="hover">
                            <div class="carousel-indicators">
                                <button type="button" data-bs-target="#weddingsCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                                <button type="button" data-bs-target="#weddingsCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                                <button type="button" data-bs-target="#weddingsCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
                                <button type="button" data-bs-target="#weddingsCarousel" data-bs-slide-to="3" aria-label="Slide 4"></button>
                                <button type="button" data-bs-target="#weddingsCarousel" data-bs-slide-to="4" aria-label="Slide 5"></button>
                                <button type="button" data-bs-target="#weddingsCarousel" data-bs-slide-to="5" aria-label="Slide 6"></button>
                            </div>
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <img src="./images/weddings/KPS-34.jpg" class="d-block w-100" alt="Beautiful Indian wedding couple during ceremony with flower petals" loading="eager" decoding="async">
                                </div>
                                <div class="carousel-item">
                                    <img src="./images/weddings/KPS-29.jpg" class="d-block w-100" alt="Wedding ceremony moments" loading="lazy" decoding="async">
                                </div>
                                <div class="carousel-item">
                                    <img src="./images/weddings/KPS-64.jpg" class="d-block w-100" alt="Wedding photography highlights" loading="lazy" decoding="async">
                                </div>
                                <div class="carousel-item">
                                    <img src="./images/weddings/KPS-42.jpg" class="d-block w-100" alt="Wedding couple portraits" loading="lazy" decoding="async">
                                </div>
                                <div class="carousel-item">
                                    <img src="./images/weddings/KPS-56.jpg" class="d-block w-100" alt="Wedding celebration moments" loading="lazy" decoding="async">
                                </div>
                                <div class="carousel-item">
                                    <img src="./images/weddings/KPS-45.jpg" class="d-block w-100" alt="Wedding cinematography showcase" loading="lazy" decoding="async">
                                </div>
                            </div>
                            <button class="carousel-control-prev" type="button" data-bs-target="#weddingsCarousel" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#weddingsCarousel" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>
                        <div class="portfolio-content">
                            <h3 class="portfolio-title">WEDDINGS</h3>
                            <p class="portfolio-description">Cinematic wedding films that tell your love story</p>
                            <a href="pages/weddings.html" class="portfolio-link">View Films →</a>
                        </div>
                    </div>

                    <div class="portfolio-item performance-critical" data-category="events">
                        <div id="eventsCarousel" class="carousel slide" data-bs-pause="hover">
                            <div class="carousel-indicators">
                                <button type="button" data-bs-target="#eventsCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                                <button type="button" data-bs-target="#eventsCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                                <button type="button" data-bs-target="#eventsCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
                                <button type="button" data-bs-target="#eventsCarousel" data-bs-slide-to="3" aria-label="Slide 4"></button>
                                <button type="button" data-bs-target="#eventsCarousel" data-bs-slide-to="4" aria-label="Slide 5"></button>
                                <button type="button" data-bs-target="#eventsCarousel" data-bs-slide-to="5" aria-label="Slide 6"></button>
                            </div>
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <img src="./images/events/P1022542.jpg" class="d-block w-100" alt="Professional event staging and presentation" loading="eager" decoding="async">
                                </div>
                                <div class="carousel-item">
                                    <img src="./images/events/P1022496.jpg" class="d-block w-100" alt="Event photography highlights" loading="lazy" decoding="async">
                                </div>
                                <div class="carousel-item">
                                    <img src="./images/events/P1160786-1.jpg" class="d-block w-100" alt="Corporate event coverage" loading="lazy" decoding="async">
                                </div>
                                <div class="carousel-item">
                                    <img src="./images/events/P1160829.jpg" class="d-block w-100" alt="Live event cinematography" loading="lazy" decoding="async">
                                </div>
                                <div class="carousel-item">
                                    <img src="./images/events/P1160770.jpg" class="d-block w-100" alt="Professional event moments" loading="lazy" decoding="async">
                                </div>
                                <div class="carousel-item">
                                    <img src="./images/events/P1160793.jpg" class="d-block w-100" alt="Event documentation excellence" loading="lazy" decoding="async">
                                </div>
                            </div>
                            <button class="carousel-control-prev" type="button" data-bs-target="#eventsCarousel" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#eventsCarousel" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>
                        <div class="portfolio-content">
                            <h3 class="portfolio-title">EVENTS</h3>
                            <p class="portfolio-description">Dynamic event videography and live coverage</p>
                            <a href="pages/events.html" class="portfolio-link">View Films →</a>
                        </div>
                    </div>

                    <div class="portfolio-item performance-critical" data-category="concerts">
                        <div id="concertsCarousel" class="carousel slide" data-bs-pause="hover">
                            <div class="carousel-indicators">
                                <button type="button" data-bs-target="#concertsCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                                <button type="button" data-bs-target="#concertsCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                                <button type="button" data-bs-target="#concertsCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
                                <button type="button" data-bs-target="#concertsCarousel" data-bs-slide-to="3" aria-label="Slide 4"></button>
                                <button type="button" data-bs-target="#concertsCarousel" data-bs-slide-to="4" aria-label="Slide 5"></button>
                                <button type="button" data-bs-target="#concertsCarousel" data-bs-slide-to="5" aria-label="Slide 6"></button>
                            </div>
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <img src="./images/concerts/P1110229.jpg" class="d-block w-100" alt="Live concert performance with dramatic stage lighting" loading="eager" decoding="async">
                                </div>
                                <div class="carousel-item">
                                    <img src="./images/concerts/P1110247.jpg" class="d-block w-100" alt="Concert stage performance" loading="lazy" decoding="async">
                                </div>
                                <div class="carousel-item">
                                    <img src="./images/concerts/P1120087.jpg" class="d-block w-100" alt="Musical performance cinematography" loading="lazy" decoding="async">
                                </div>
                                <div class="carousel-item">
                                    <img src="./images/concerts/1744036484455.jpg" class="d-block w-100" alt="Live music event coverage" loading="lazy" decoding="async">
                                </div>
                                <div class="carousel-item">
                                    <img src="./images/concerts/1744036484475.jpg" class="d-block w-100" alt="Concert lighting and atmosphere" loading="lazy" decoding="async">
                                </div>
                                <div class="carousel-item">
                                    <img src="./images/concerts/P1120654.jpg" class="d-block w-100" alt="Professional concert photography" loading="lazy" decoding="async">
                                </div>
                            </div>
                            <button class="carousel-control-prev" type="button" data-bs-target="#concertsCarousel" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#concertsCarousel" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>
                        <div class="portfolio-content">
                            <h3 class="portfolio-title">CONCERTS</h3>
                            <p class="portfolio-description">Live music and performance cinematography</p>
                            <a href="pages/concerts.html" class="portfolio-link">View Films →</a>
                        </div>
                    </div>

                    <div class="portfolio-item performance-critical" data-category="food">
                        <div id="foodCarousel" class="carousel slide" data-bs-pause="hover">
                            <div class="carousel-indicators">
                                <button type="button" data-bs-target="#foodCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                                <button type="button" data-bs-target="#foodCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                                <button type="button" data-bs-target="#foodCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
                                <button type="button" data-bs-target="#foodCarousel" data-bs-slide-to="3" aria-label="Slide 4"></button>
                                <button type="button" data-bs-target="#foodCarousel" data-bs-slide-to="4" aria-label="Slide 5"></button>
                                <button type="button" data-bs-target="#foodCarousel" data-bs-slide-to="5" aria-label="Slide 6"></button>
                            </div>
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <img src="./images/food/Paneer Final 1.jpg" class="d-block w-100" alt="Delicious paneer dish with rich garnishing" loading="eager" decoding="async">
                                </div>
                                <div class="carousel-item">
                                    <img src="./images/food/SAVE_20240629_110258.jpg" class="d-block w-100" alt="Food photography excellence" loading="lazy" decoding="async">
                                </div>
                                <div class="carousel-item">
                                    <img src="./images/food/SAVE_20240629_110335.jpg" class="d-block w-100" alt="Culinary art photography" loading="lazy" decoding="async">
                                </div>
                                <div class="carousel-item">
                                    <img src="./images/food/SAVE_20240629_110449.jpg" class="d-block w-100" alt="Professional food styling" loading="lazy" decoding="async">
                                </div>
                                <div class="carousel-item">
                                    <img src="./images/food/SAVE_20240630_170253.jpg" class="d-block w-100" alt="Gourmet food presentation" loading="lazy" decoding="async">
                                </div>
                                <div class="carousel-item">
                                    <img src="./images/food/SAVE_20240703_210458.jpg" class="d-block w-100" alt="Food cinematography showcase" loading="lazy" decoding="async">
                                </div>
                            </div>
                            <button class="carousel-control-prev" type="button" data-bs-target="#foodCarousel" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#foodCarousel" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>
                        <div class="portfolio-content">
                            <h3 class="portfolio-title">FOOD</h3>
                            <p class="portfolio-description">Culinary cinematography and restaurant films</p>
                            <a href="pages/food.html" class="portfolio-link">View Films →</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="about">
            <div class="container">
                <div class="about-content">
                    <div class="about-text">
                        <h2 class="section-title">ABOUT</h2>
                        <p class="about-description">
                            With years of experience in professional cinematography, I specialize in creating 
                            compelling visual stories across various domains. From intimate wedding films to large-scale 
                            corporate productions and television commercials, my approach combines technical excellence 
                            with creative vision to deliver cinematic narratives that resonate with audiences.
                        </p>    
                    </div>
                    <div class="about-image">
                        <img src="./images/weddings/KPS-67.jpg" alt="Professional cinematographer at work" loading="lazy" decoding="async">
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="contact">
            <div class="container">
                <div class="contact-content">
                    <div class="contact-info">
                        <h2 class="section-title">GET IN TOUCH</h2>
                        <p class="contact-description">
                            Ready to bring your vision to life? Let's discuss your cinematography needs.
                        </p>
                        <div class="contact-details">
                            <div class="contact-item">
                                <h3>Business Email</h3>
                                <p>krishnaphotoandfilmproductions@gmail.com</p>
                            </div>
                            <div class="contact-item">
                                <h3>Personal Email</h3>
                                <p>vedangmehta41@gmail.com</p>
                            </div>
                            <div class="contact-item">
                                <h3>Location</h3>
                                <p>Vadodara, Gujarat, India</p>
                            </div>
                        </div>
                        <div class="social-links">
                            <a href="https://www.instagram.com/vedang_bbx?igsh=MTgzZ3EwdGtpbzIz" target="_blank" class="social-link">Instagram</a>
                            <a href="https://www.facebook.com/share/1E7jkiGJbV/" target="_blank" class="social-link">Facebook</a>
                            <a href="https://www.linkedin.com/in/vedang-mehta-94881029b?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app" class="social-link">LinkedIn</a>
                        </div>
                    </div> 
                    <div class="contact-form">
                        <form class="form" id="contactForm">
                            <div class="form-group">
                                <input type="text" id="name" name="name" placeholder="Your Name" required>
                                <div class="error-message" id="nameError"></div>
                            </div>
                            <div class="form-group">
                                <input type="email" id="email" name="email" placeholder="Your Email" required>
                                <div class="error-message" id="emailError"></div>
                            </div>
                            <div class="form-group">
                                <select id="service" name="service" required>
                                    <option value="">Select Service</option>
                                    <option value="weddings">Wedding Cinematography</option>
                                    <option value="events">Event Cinematography</option>
                                    <option value="concerts">Concert Cinematography</option>
                                    <option value="food">Food Photography</option>
                                </select>
                                <div class="error-message" id="serviceError"></div>
                            </div>
                            <div class="form-group">
                                <textarea id="message" name="message" placeholder="Tell me about your project" rows="5" required></textarea>
                                <div class="error-message" id="messageError"></div>
                            </div>
                            <button type="submit" class="btn btn-primary" id="submitBtn">
                                <span id="submitText">Send Message</span>
                                <span id="submitLoader" class="loader" style="display: none;">Sending...</span>
                            </button>
                            <div class="form-status" id="formStatus"></div>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <p class="footer-text">© 2025 Vedang Photography. All rights reserved.</p>
                <p class="footer-subtext">Professional photography services across India</p>
            </div>
        </footer>
    </div>

    <!-- Optimized JavaScript Loading -->
    <script>
        // Load scripts in proper order to avoid conflicts
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 Loading scripts without GSAP...');
            
            function loadScript(src) {
                return new Promise((resolve, reject) => {
                    const script = document.createElement('script');
                    script.src = src;
                    script.onload = () => {
                        console.log(`✅ Loaded: ${src}`);
                        resolve();
                    };
                    script.onerror = () => {
                        console.log(`⚠️ Failed to load: ${src}`);
                        reject();
                    };
                    document.head.appendChild(script);
                });
            }
            
            // Load Bootstrap JS first, then other scripts
            loadScript('https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js')
                .then(() => loadScript('js/contact.js'))
                .then(() => loadScript('js/main-no-gsap.js'))
                .then(() => {
                    // Load optional scripts
                    return Promise.allSettled([
                        loadScript('js/performance-advanced.js')
                    ]);
                })
                .then(() => {
                    console.log('✅ All scripts loaded successfully (Bootstrap + no GSAP)');
                })
                .catch(error => {
                    console.error('❌ Script loading error:', error);
                });
        });
    </script>
    
    <!-- Service Worker Registration -->
    <script>
        // Register Enhanced Service Worker for advanced caching
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw-optimized.js')
                    .then((registration) => {
                        console.log('Enhanced Service Worker registered successfully');
                        
                        // Check for updates
                        registration.addEventListener('updatefound', () => {
                            console.log('Service Worker update found');
                        });
                    })
                    .catch((error) => {
                        console.log('Service Worker registration failed:', error);
                        
                        // Fallback to basic service worker
                        navigator.serviceWorker.register('/sw.js')
                            .catch(() => console.log('Fallback Service Worker also failed'));
                    });
            });
        }
        
        // Performance monitoring and optimization
        window.addEventListener('load', () => {
            // Wait a bit for load event to complete
            setTimeout(() => {
                const navigationStart = performance.timing.navigationStart;
                const loadEventEnd = performance.timing.loadEventEnd || performance.now() + navigationStart;
                const loadTime = loadEventEnd - navigationStart;
                
                if (loadTime > 0 && loadTime < 60000) { // Valid range: 0-60 seconds
                    console.log(`Page load time: ${loadTime}ms`);
                    
                    // Performance optimization based on load time
                    if (loadTime > 3000) {
                        document.documentElement.classList.add('slow-connection');
                    }
                } else {
                    console.log(`Page loaded (timing unavailable)`);
                }
            }, 100);
            
            // Check for Largest Contentful Paint
            if ('PerformanceObserver' in window) {
                const observer = new PerformanceObserver((list) => {
                    for (const entry of list.getEntries()) {
                        if (entry.entryType === 'largest-contentful-paint') {
                            console.log(`LCP: ${entry.startTime}ms`);
                            
                            // Optimize based on LCP
                            if (entry.startTime > 2500) {
                                // Slow LCP - enable aggressive optimizations
                                document.documentElement.classList.add('optimize-aggressive');
                            }
                        }
                    }
                });
                observer.observe({entryTypes: ['largest-contentful-paint']});
            }
        });
    </script>
</body>
</html>
